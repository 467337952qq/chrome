import{g as q,b as f,F as D,d as R,s as U}from"./storage-Bmc69mpr.js";import{d as j,r as n,u as K,c as N,g as L,a as d,b as p,e as u,f as x,h as m,w as k,I as H,i as B,F as Q,B as w,o as s,j as W,k as z,l as y,t as h,m as G,n as J,p as X,q as Y,s as Z}from"./i18n-W6kj09xD.js";const ee=["src"],te={class:"relative"},le={key:2,class:"mt-36 flex"},oe=j({__name:"App",setup(se){const v=n(!1),V=n(!1),b=n(""),l=n(""),o=n(D.id),S=n();let g="",_="",c="",I=null;const i=K(),T=N(()=>R(i.originNodes)),F=N(()=>v.value&&g!==l.value);q().then(t=>{S.value=t.originNodes}),f.tabs.query({active:!0,currentWindow:!0}).then(t=>{const e=t[0];e!=null&&e.url&&(L(e.url,180).then(a=>b.value=a),_=e.url,g=e.title||"",f.bookmarks.search({url:e.url}).then(a=>{const r=a[0];r?(l.value=r.title,I=r.parentId,o.value=r.parentId,c=r.id):l.value=e.title||"",v.value=!!a[0]}))});function O(){f.tabs.create({})}function $(){V.value=!1}function M(){i.createNode({title:l.value,url:_,parentId:o.value}).then(()=>window.close())}function P(){i.deleteNode(c).then(()=>window.close())}function A(){const t=[i.updateNode(c,{title:l.value})];I!==o.value&&o.value&&t.push(i.moveNode(c,{parentId:o.value})),Promise.all(t).then(()=>window.close())}function E(){l.value=g}return(t,e)=>l.value?(s(),d("main",{key:0,class:"p-16",onClick:$},[p("button",{class:"flex flex-shrink-0 items-center rounded-8 px-10 py-4 text-content-primary -ml-6 -mt-4 interactive",onClick:O},[u(x(W),{class:"text-24"}),u(x(z),{class:"ml-6 h-14 w-64"}),e[2]||(e[2]=p("span",{class:"i-ic-outline-keyboard-arrow-right ml-4 text-20 text-content-tertiary"},null,-1))]),b.value?(s(),d("img",{key:0,src:b.value,class:"mx-auto mt-16 block w-180"},null,8,ee)):m("",!0),p("div",te,[u(H,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),label:t.$t("bookmark_title_label"),placeholder:t.$t("bookmark_title_hint"),icon:"i-ic-title",name:"title",class:"mt-20"},{default:k(()=>[F.value?(s(),d("button",{key:0,class:"absolute bottom-9 right-8 h-22 w-22 flex items-center justify-center rounded-6 bg-surface-secondary interactive",onClick:E},e[3]||(e[3]=[p("span",{class:"i-ic-outline-sync text-16 text-content-positive"},null,-1)]))):m("",!0)]),_:1},8,["modelValue","label","placeholder"])]),o.value?(s(),B(Q,{key:1,modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value=a),class:"mt-12",options:T.value,label:t.$t("folder_select_label"),icon:"i-ic-outline-folder"},null,8,["modelValue","options","label"])):m("",!0),v.value?(s(),d("div",le,[u(w,{class:"mr-12 w-full",kind:"neutral",onClick:P},{default:k(()=>[y(h(t.$t("delete")),1)]),_:1}),u(w,{class:"w-full",onClick:A},{default:k(()=>[y(h(t.$t("save")),1)]),_:1})])):(s(),B(w,{key:3,class:"mt-36 w-full",onClick:M},{default:k(()=>[y(h(t.$t("popup.bookmark_page")),1)]),_:1}))])):m("",!0)}}),ae=G(),C=J(oe);X(C);C.use(ae).mount("#app");Y();const{version:ne}=f.runtime.getManifest();Z({app:C,release:ne,enabled:!0,dsn:"https://5d5d74b120ad43fc8d9a4fe1aabc6095@o554592.ingest.sentry.io/4504028522545152",logErrors:!0});U("view","popup");
